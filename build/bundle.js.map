{"version":3,"file":"bundle.js","sources":["../src/index.js"],"sourcesContent":["export function toFunction(raw) {\r\n  return new Function('$vars', 'return ' + _renderBrackets(raw));\r\n}\r\n\r\nexport function _renderBrackets(item) {\r\n  if(typeof item == 'number') return _toNumber(item);\r\n\r\n  if('number' in item) return _toNumber(item.number);\r\n  if('variable' in item) return `$vars[\"${item.variable}\"]`;\r\n  if('operator' in item) return _renderOperator(item);\r\n\r\n  throw new Error('Unexpected item');\r\n}\r\n\r\nexport function _renderOperator(item) {\r\n  const operands = item.operands.map(operand => _renderBrackets(operand));\r\n\r\n  if(['+', '-', '*', '/'].includes(item.operator)) {\r\n    return `(${operands.join(item.operator)})`;\r\n  }\r\n\r\n  if(item.operator == 'pow') {\r\n    return `Math.pow(${operands[0]},${operands[1]})`;\r\n  }\r\n\r\n  if(item.operator == 'sqrt') {\r\n    return `Math.sqrt(${operands[0]})`;\r\n  }\r\n\r\n  throw new Error('Unexpected operator');\r\n}\r\n\r\nexport function _toNumber(a) {\r\n  a = Number(a);\r\n\r\n  if(isNaN(a)) return 0;\r\n\r\n  return a;\r\n}"],"names":["toFunction","raw","Function","_renderBrackets","item","_toNumber","number","variable","_renderOperator","Error","operands","map","operand","includes","operator","join","a","Number","isNaN"],"mappings":";;;;AAAO,SAASA,UAAT,CAAoBC,GAApB,EAAyB;SACvB,IAAIC,QAAJ,CAAa,OAAb,EAAsB,YAAYC,gBAAgBF,GAAhB,CAAlC,CAAP;;;AAGF,AAAO,SAASE,eAAT,CAAyBC,IAAzB,EAA+B;MACjC,OAAOA,IAAP,IAAe,QAAlB,EAA4B,OAAOC,UAAUD,IAAV,CAAP;;MAEzB,YAAYA,IAAf,EAAqB,OAAOC,UAAUD,KAAKE,MAAf,CAAP;MAClB,cAAcF,IAAjB,EAAuB,mBAAiBA,KAAKG,QAAtB;MACpB,cAAcH,IAAjB,EAAuB,OAAOI,gBAAgBJ,IAAhB,CAAP;;QAEjB,IAAIK,KAAJ,CAAU,iBAAV,CAAN;;;AAGF,AAAO,SAASD,eAAT,CAAyBJ,IAAzB,EAA+B;MAC9BM,WAAWN,KAAKM,QAAL,CAAcC,GAAd,CAAkB;WAAWR,gBAAgBS,OAAhB,CAAX;GAAlB,CAAjB;;MAEG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqBC,QAArB,CAA8BT,KAAKU,QAAnC,CAAH,EAAiD;iBACpCJ,SAASK,IAAT,CAAcX,KAAKU,QAAnB,CAAX;;;MAGCV,KAAKU,QAAL,IAAiB,KAApB,EAA2B;yBACNJ,SAAS,CAAT,CAAnB,SAAkCA,SAAS,CAAT,CAAlC;;;MAGCN,KAAKU,QAAL,IAAiB,MAApB,EAA4B;0BACNJ,SAAS,CAAT,CAApB;;;QAGI,IAAID,KAAJ,CAAU,qBAAV,CAAN;;;AAGF,AAAO,SAASJ,SAAT,CAAmBW,CAAnB,EAAsB;MACvBC,OAAOD,CAAP,CAAJ;;MAEGE,MAAMF,CAAN,CAAH,EAAa,OAAO,CAAP;;SAENA,CAAP;;;;;;;;"}